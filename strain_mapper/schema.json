{ 
    "pipeline": "Strain-mapper (sub-workflow)",
    "params": {
        "Read mapping input parameters": {
            "reference": {
                "default": "none",
                "help_text": "Path to reference genome in fasta format"
            }
        },
        "Read mapping tool options": {
            "mapper": {
                "default": "bowtie2",
                "help_text": "Mapping tool to use. Options: [bwa, bowtie2]"
            },
            "method": {
                "default": "bcftools",
                "help_text": "Variant calling method to use. Options: [bcftools, gatk]"
            }
        },
        "Read mapping data output options": {
            "keep_raw_vcf": {
                "default": "false",
                "help_text": "Save the unfiltered VCF file, i.e. direct output of `bcftools call` or `gatk haplotypecaller`. This can be combined with\n             --only_report_alts to report only ALT variants;\n             only relevant when --skip_filtering=false."
            },
            "keep_sorted_bam": { 
                "default": "false",
                "help_text": "Save the mapping file (sorted BAM)"
            },
            "keep_gatk_bam": {
                "default": "false",
                "help_text": "Save a BAM file of realigned reads provided by GATK haptlotypecaller."
            }
        },
        "Read mapping variant filtering options": {
            "only_report_alts": {
                "default": "true",
                "help_text": "When included this flag reports only ALT variants in the VCF output"
            },
            "bcftools_vcf_filter": {
                "default": "QUAL>=50 & MIN(DP)>=8 & ((ALT!=\".\" & DP4[2]>3 & DP4[3]>3) | (ALT=\".\" & DP4[0]>3 & DP4[1]>3))",
                "help_text": "Filter variants in VCF file generated by bcftools. See https://samtools.github.io/bcftools/bcftools.html#expressions\n             for valid syntax. By default, remove records with a quality score below 50, fewer than 8 reads (read depth), or\n             fewer than 4 supporting reads per strand (allelic depth)."
            },
            "gatk_vcf_filter": {
                "default": "QUAL>=50 & MIN(FORMAT/DP)>=8 & ((ALT!=\".\" & FORMAT/AD[*:1]>7) | (ALT=\".\" & FORMAT/AD[*:0]>7))",
                "help_text": "Filter variants in VCF file generated by bcftools. See https://samtools.github.io/bcftools/bcftools.html#expressions\n             for valid syntax. By default, remove records with a quality score below 50, with fewer than 8 reads (read depth), or\n             fewer than 8 supporting reads per allele (allelic depth)."
            },
            "skip_filtering": {
                "default": "false",
                "help_text": "Do not filter variants using filter parameters --bcftools_vcf_filter or --gatk_vcf_filter."
            },
            "gatk_haplotypecaller_output_mode": {
                "default": "EMIT_ALL_ACTIVE_SITES",
                "help_text": "Specify type of calls that GATK should output. Available options are described in\n             https://gatk.broadinstitute.org/hc/en-us/articles/360050814612-HaplotypeCaller#--output-mode"
            },
            "gatk_java_args": {
                "default": "-Xmx4g",
                "help_text": "Java options to supply to Java VM used by GATK jar file."
            }
        }
    }
}
