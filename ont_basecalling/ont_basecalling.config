params {
    // Basecalling
    model = "sup"
    //this is default anyways but allows for changing
    trim_adapters = "all"
    barcode_kit_name = null // pick within those listed in https://github.com/nanoporetech/dorado?tab=readme-ov-file#barcode-classification    
    read_format = "fastq"
    min_qscore = 9
    barcode_arrangement = null
    barcode_sequences = null
    modified_bases_models = null
    raw_read_dir = ""
    additional_metadata = null
}

// to add to nextflow.commons

process {
    withLabel:gpu {

        //forms the resource from other labels
        clusterOptions = { "-M " + task.memory.toMega() + " -R 'select[ngpus>0] span[ptile=1]' -gpu 'num=1:mode=shared:gmem=" + task.memory.toMega() * 2 + "'" }
        
        queue = { task.time > 48.h ? 'gpu-basement' : task.time > 12.h ? 'gpu-huge' : 'gpu-normal' }
        
        // need to set --nv to enable GPU's to be used
        containerOptions = {
            workflow.containerEngine == "singularity" ? '--containall --cleanenv --nv':
            ( workflow.containerEngine == "docker" ? '--gpus all': null )
        }
    }
}
